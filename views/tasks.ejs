<%- include("./partials/head") -%>
<%- include("./partials/header") -%>

  <div class="tasks">
    <div class="box" id="heading">
      <h1 class="heading"><%= date %></h1>
    </div>
    <div class="select-container">
      <div class="select">
        <p>Sort by</p>
        <form class="sort dropdown">
          <select>
            <option value="asc">Date (ascending)</option>
            <option value="desc">Date (descending)</option>
          </select>
        </form>
      </div>
      <div class="select">
        <p>Filter</p>
        <form class="filter dropdown">
          <select>
            <option value="all">All</option>
            <option value="comp">Completed</option>
            <option value="incomp">Incompleted</option>
          </select>
        </form>
      </div>
      <div class="select">
        <p>Results per page</p>
        <form class="count dropdown">
          <select>
            <option value="all">All</option>
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
          </select>
        </form>
      </div>
    </div>
    <div class="box">
      <% tasks.forEach(function(task) { %>
          <div class="item">
            <form class="task">
              <% if(task.completed == false) { %>
                <i class="far fa-square unchecked">
              <%} else {%>
                <i class="far fa-check-square checked">
              <%}%>
              <input type="text" class="edit-task <% if(task.completed == true) {%>done<%} %>" value="<%= task.description %>" data-id="<%= task._id %>">
              <button type="submit" style="visibility: hidden"></button>
            </form>
          </div>
      <% }); %>
      <form class="item newItem">
        <input class="newTask" type="text" name="newTask" placeholder="New Task" autocomplete="off" required>
        <button class="addTask" type="submit">+</button>
      </form>
    </div>
  </div>

<%- include("./partials/footer") -%>
